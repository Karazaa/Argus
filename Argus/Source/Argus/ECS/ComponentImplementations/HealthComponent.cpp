// Copyright Karazaa. This is a part of an RTS project called Argus.
// AUTOGENERATED FILE

/*
* I learned two things today that I really don't like.
* 
* 1. These autogenerated files might have been originally autogenerated, but they aren't anymore. 
     The common wisdom on autogenerated source code files is that you don't edit them because 
	 they are autogenerated, and everytime you run 'make clean' these files get deleted along with 
	 all of your modifications.

* 2. The other thing about autogenerated files is that you don't include them in version control, 
	 because they are autogenerated, thus it's redundant to add them to version control.

	 So to sum up, this file shouldn't have been committed to git in the first place, and you 
	 shouldn't be able to read this comment, because I ran make clean straight after writing this.

	 -Wayne
*/

#include "ComponentDefinitions/HealthComponent.h"
#include "ArgusEntity.h"
#include "ArgusLogging.h"

#if !UE_BUILD_SHIPPING
#include "ArgusStaticData.h"
#include "imgui.h"
#include "UObject/ReflectedTypeAccessors.h"
#endif //!UE_BUILD_SHIPPING

// Component shared functionality
uint16 HealthComponent::GetOwningEntityId() const
{
	return this - &ArgusComponentRegistry::s_HealthComponents[0];
}

void HealthComponent::Reset()
{
	m_currentHealth = 1000u;
	m_maximumHealth = 1000u;
	m_isUnderAttack = false;
}

void HealthComponent::DrawComponentDebug() const
{
#if !UE_BUILD_SHIPPING
	if (!ImGui::CollapsingHeader("HealthComponent"))
	{
		return;
	}

	if (ImGui::BeginTable("ComponentValues", 2, ImGuiTableFlags_NoSavedSettings))
	{
		ImGui::TableNextColumn();
		ImGui::Text("m_currentHealth");
		ImGui::TableNextColumn();
		ImGui::Text("%d", m_currentHealth);
		ImGui::TableNextColumn();
		ImGui::Text("m_maximumHealth");
		ImGui::TableNextColumn();
		ImGui::Text("%d", m_maximumHealth);
		ImGui::TableNextColumn();
		ImGui::Text("m_isUnderAttack");
		ImGui::TableNextColumn();
		ImGui::Text("%s", m_isUnderAttack ? "true" : "false");
		ImGui::EndTable();
	}
#endif //!UE_BUILD_SHIPPING
}

// Per observable logic
